import{a as h,i as a,A as S}from"./assets/vendor-DCqp26N8.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const p of i.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&n(p)}).observe(document,{childList:!0,subtree:!0});function e(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(o){if(o.ep)return;o.ep=!0;const i=e(o);fetch(o.href,i)}})();async function q(t,s=1){const e=window.innerWidth<1440?8:9,o={page:Math.max(1,Number(s)||1),limit:e};return t&&(o.categoryId=t),(await h.get("https://paw-hut.b.goit.study/api/animals/",{params:o})).data}async function C(){return(await h.get("https://paw-hut.b.goit.study/api/categories/",{})).data}const $=document.querySelector(".pets-category-list"),v=document.querySelector(".pets-list"),b=document.querySelector(".loader"),d=document.querySelector(".more-pets-button");function A(t){const s=t.map(e=>`<li class="pet-list-item">
            <div class="pet-item-link">
                <img class="pet-image" src="${e.image}" alt="${e.shortDescription}"/>
            </div>
            <div class="info-container">
                <p class="pet-info species">${e.species}</p>
                <p class="pet-info name">${e.name}</p>
                <div class="pet-info category">${e.categories.map(n=>`<span class="category">${n.name}</span>`).join(" ")}
                </div>
                <p class="pet-info age-gender"><span class="age">${e.age}</span class="gender"><span>${e.gender}</span></p>
                <p class="pet-info behavior">${e.behavior} ${e.shortDescription}</p>
            </div>
            <div class="button-container animated-button ligth">
                <a class="more-pet-info" data-id="${e._id}">Дізнатись більше</a>
            </div>
        </li>`).join("");v.insertAdjacentHTML("beforeend",s)}function L(){v.innerHTML=""}function w(){b.style.display="block"}function E(){b.style.display="none"}function c(){d.style.display="none"}function M(){d.style.display="block"}function O(){const t=document.querySelector(".pet-list-item");if(!t)return;const s=t.getBoundingClientRect().height;window.scrollBy({top:s*2,behavior:"smooth"})}const g=["Всі","Собаки","Коти","Кролики","Гризуни","Птахи","Тварини з особливими потребами","Терміново шукають дім"];function P(t){const e=t.slice().sort((n,o)=>g.indexOf(n.name)-g.indexOf(o.name)).map(n=>`
            <li class="category-list-item">
                <button class="pet-category-button animated-button dark"
                    type="button"
                    data-category-id="${n._id}">
                    ${n.name}
                </button>
            </li>
        `).join("");$.insertAdjacentHTML("beforeend",e)}let l=1,u="",r=[];const f=document.querySelector(".pets-list");document.querySelector(".animal-details-modal");const y=document.querySelector(".pets-category-list"),B=document.querySelector(".pet-category-button.all");B.classList.add("is-deactive");I();m(u,l);y.addEventListener("click",t=>{const s=t.target.closest(".pet-category-button");if(!s)return;const e=y.querySelector(".pet-category-button.is-deactive");e&&e.classList.remove("is-deactive"),s.classList.add("is-deactive"),u=s.dataset.categoryId||"",l=1,c(),L(),w(),m(u,l)});d&&d.addEventListener("click",t=>{t.preventDefault(),c(),w(),l++,m(u,l)});f==null||f.addEventListener("click",t=>{const s=t.target.closest(".more-pet-info");if(!s)return;t.preventDefault();const e=s.dataset.id;window.dispatchEvent(new CustomEvent("open-animal-modal",{detail:{petId:e}}))});async function m(t,s){try{c();const e=await q(t,s);if(e.animals.length===0){a.info({message:"Тварин не знайдено за обраним фільтром.",position:"topRight"}),L(),c();return}r=e.animals,k(r),A(r),s>1&&O();const n=Math.ceil(e.totalItems/e.limit);s>=n?(c(),a.info({message:"Ви переглянули всі доступні результати."})):M()}catch(e){a.error({message:(e==null?void 0:e.message)||"Сталася помилка під час завантаження тварин.",position:"topRight"})}finally{E()}}async function I(){try{const t=await C();if(!Array.isArray(t)||t.length===0){a.info({message:"Категорії не знайдено.",position:"topRight"});return}r=t,P(r)}catch(t){a.error({message:(t==null?void 0:t.message)||"Сталася помилка під час завантаження категорій.",position:"topRight"})}finally{}}function k(t){r=Array.isArray(t)?t:[]}new S("#faq-accordion",{duration:300,showMultiple:!1,openOnInit:[]});document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".footer-nav-link").forEach(s=>{s.addEventListener("click",function(e){e.preventDefault();const n=this.getAttribute("href");if(n&&n.startsWith("#")){const o=document.querySelector(n);o&&o.scrollIntoView({behavior:"smooth",block:"start"})}})})});document.addEventListener("DOMContentLoaded",()=>{const t=document.querySelectorAll(".footer-nav-link");t.length&&t.forEach(s=>{s.addEventListener("click",e=>{if(s.classList.contains("is-disabled"))return;t.forEach(i=>i.classList.remove("is-active")),s.classList.add("is-active");const n=s.getAttribute("href"),o=document.querySelector(n);o&&o.scrollIntoView({behavior:"smooth"}),history.pushState(null,"",n)})})});
//# sourceMappingURL=index.js.map
