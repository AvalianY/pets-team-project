import{a as x,i as c,S as K,N as te,P as ne,A as oe,R as se}from"./assets/vendor-yK1sj6ZY.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const u of i.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&o(u)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".header-burger"),t=document.querySelector(".header-close"),n=document.querySelector(".header-mob-menu"),o=document.querySelectorAll(".header-link"),r=l=>{l.key==="Escape"&&i()},i=()=>{n.classList.contains("mob-menu-open")&&(n.classList.remove("mob-menu-open"),e.classList.remove("is-hidden"),t.classList.remove("is-active"),document.body.style.overflow="",document.removeEventListener("keydown",r))};e.addEventListener("click",()=>{n.classList.add("mob-menu-open"),e.classList.add("is-hidden"),t.classList.add("is-active"),document.body.style.overflow="hidden",document.addEventListener("keydown",r)}),t.addEventListener("click",i),n.addEventListener("click",l=>{l.target.closest(".header-mob-menu-container")||i()}),o.forEach(l=>{l.addEventListener("click",$=>{const g=l.getAttribute("href");if(!g||!g.startsWith("#"))return;const O=document.querySelector(g);O&&($.preventDefault(),window.innerWidth<1440?(i(),setTimeout(()=>{O.scrollIntoView({behavior:"smooth",block:"start"})},300)):O.scrollIntoView({behavior:"smooth",block:"start"}))})}),document.querySelectorAll(".header-btn[data-scroll]").forEach(l=>{l.addEventListener("click",()=>{const $=l.dataset.scroll,g=document.querySelector($);g&&(g.scrollIntoView({behavior:"smooth",block:"start"}),i())})}),window.addEventListener("resize",()=>{window.innerWidth>=1440&&i()})});document.getElementById("scrollToStories").addEventListener("click",function(e){e.preventDefault(),document.querySelector("#success-stories").scrollIntoView({behavior:"smooth"})});async function re(e,t=1){const n=window.innerWidth<1440?8:9,r={page:Math.max(1,Number(t)||1),limit:n};return e&&(r.categoryId=e),(await x.get("https://paw-hut.b.goit.study/api/animals/",{params:r})).data}async function ie(){return(await x.get("https://paw-hut.b.goit.study/api/categories/",{})).data}const ae=document.querySelector(".pets-category-list"),Z=document.querySelector(".pets-list"),G=document.querySelector(".loader"),k=document.querySelector(".more-pets-button");function ce(e){const t=e.map(n=>`<li class="pet-list-item">
            <div class="pet-item-link">
                <img class="pet-image" src="${n.image}" alt="${n.shortDescription}"/>
            </div>
            <div class="info-container">
                <p class="pet-info species">${n.species}</p>
                <p class="pet-info name">${n.name}</p>
                <div class="pet-info category">${n.categories.map(o=>`<span class="category">${o.name}</span>`).join(" ")}
                </div>
                <p class="pet-info age-gender"><span class="age">${n.age}</span class="gender"><span>${n.gender}</span></p>
                <p class="pet-info behavior">${n.behavior} ${n.shortDescription}</p>
            </div>
            <div class="button-container animated-button ligth" data-id="${n._id}">
                <p class="more-pet-info">Дізнатись більше</p>
            </div>
        </li>`).join("");Z.insertAdjacentHTML("beforeend",t)}function J(){Z.innerHTML=""}function X(){G.style.display="block"}function le(){G.style.display="none"}function I(){k.style.display="none"}function de(){k.style.display="block"}function ue(){const e=document.querySelector(".pet-list-item");if(!e)return;const t=e.getBoundingClientRect().height;window.scrollBy({top:t*2,behavior:"smooth"})}const F=["Всі","Собаки","Коти","Кролики","Гризуни","Птахи","Тварини з особливими потребами","Терміново шукають дім"];function pe(e){const n=e.slice().sort((o,r)=>F.indexOf(o.name)-F.indexOf(r.name)).map(o=>`
            <li class="category-list-item">
                <button class="pet-category-button animated-button dark"
                    type="button"
                    data-category-id="${o._id}">
                    ${o.name}
                </button>
            </li>
        `).join("");ae.insertAdjacentHTML("beforeend",n)}let S=1,q="",m=[];const V=document.querySelector(".pets-list"),z=document.querySelector(".pets-category-list"),me=document.querySelector(".pet-category-button.all");me.classList.add("is-deactive");fe();W(q,S);z.addEventListener("click",e=>{const t=e.target.closest(".pet-category-button");if(!t)return;const n=z.querySelector(".pet-category-button.is-deactive");n&&n.classList.remove("is-deactive"),t.classList.add("is-deactive"),q=t.dataset.categoryId||"",S=1,I(),J(),X(),W(q,S)});k&&k.addEventListener("click",e=>{e.preventDefault(),I(),X(),S++,W(q,S)});V==null||V.addEventListener("click",e=>{const t=e.target.closest(".pets-list-section .button-container");if(!t)return;e.preventDefault();const n=t.dataset.id;window.dispatchEvent(new CustomEvent("open-animal-modal",{detail:{petId:n}}))});async function W(e,t){try{I();const n=await re(e,t);if(n.animals.length===0){c.info({message:"Тварин не знайдено за обраним фільтром.",position:"topRight"}),J(),I();return}m=n.animals,ge(m),ce(m),t>1&&ue();const o=Math.ceil(n.totalItems/n.limit);t>=o?(I(),c.info({message:"Ви переглянули всі доступні результати."})):de()}catch(n){c.error({message:(n==null?void 0:n.message)||"Сталася помилка під час завантаження тварин.",position:"topRight"})}finally{le()}}async function fe(){try{const e=await ie();if(!Array.isArray(e)||e.length===0){c.info({message:"Категорії не знайдено.",position:"topRight"});return}m=e,pe(m)}catch(e){c.error({message:(e==null?void 0:e.message)||"Сталася помилка під час завантаження категорій.",position:"topRight"})}finally{}}function ge(e){m=Array.isArray(e)?e:[]}function ye(e){return m.find(t=>t._id===e)}function Q(e){var o,r,i,u;const t=Array.isArray((o=e.navigation)==null?void 0:o.prevEl)?e.navigation.prevEl[0]:(r=e.navigation)==null?void 0:r.prevEl,n=Array.isArray((i=e.navigation)==null?void 0:i.nextEl)?e.navigation.nextEl[0]:(u=e.navigation)==null?void 0:u.nextEl;t&&n&&(t.disabled=e.isBeginning,n.disabled=e.isEnd)}function he(){const e=document.querySelector(".about-us-section .about-us-swiper");if(!e)return null;const t=new K(e,{modules:[te,ne],loop:!1,wrapperClass:"about-us-swiper-wrapper",slideClass:"about-us-swiper-slide",navigation:{nextEl:".about-us-swiper-controls .about-us-swiper-button-next",prevEl:".about-us-swiper-controls .about-us-swiper-button-prev"},pagination:{el:".about-us-swiper-controls .about-us-swiper-pagination",clickable:!0},slidesPerView:1,spaceBetween:20,breakpoints:{768:{slidesPerView:1},1280:{slidesPerView:1}},on:{slideChange(){Q(t)}}});return Q(t),t}function U(){he()}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",U):U();new oe("#faq-accordion",{duration:300,showMultiple:!1,openOnInit:[]});const ve=x.create({baseURL:"https://paw-hut.b.goit.study/api/",params:{page:1,limit:6}});async function be(){try{const{data:e}=await ve.get("/feedbacks");return e.feedbacks}catch{return null}}function Le(e){const t=document.querySelector(".success-stories-section .swiper-wrapper"),n=e.map(({description:o,rate:r,author:i})=>`
        <div class="swiper-slide">
          <div class="star-rating" data-score="${r}"></div>     
            <p class="storie-text">${o}</p>
            <p class="storie-names">${i}</p>  
        </div>`).join("");t.insertAdjacentHTML("beforeend",n),document.querySelectorAll(".star-rating").forEach(o=>{new se(o,{starType:"svg",readOnly:!0}).init()})}const we=document.querySelector(".stories-loader"),Ee=document.querySelector(".success-stories-section .swiper-controls");function D(e){c.info({message:e,position:"topRight",color:"#f2aaaaff",icon:!1,progressBar:!1,messageColor:"black"})}function C(){we.classList.remove("loader")}function Ie(){Ee.classList.remove("visually-hidden")}window.addEventListener("DOMContentLoaded",async()=>{try{let e=await be();if(e===null){D("Не вдалося завантажити історії. Спробуйте пізніше"),C();const n=document.querySelector(".success-stories-section .swiper-wrapper");n&&(n.innerHTML='<p class="error-swiper">Не вдалося завантажити історії</p>');return}if(e.length===0){D("Нажаль, історії зараз недоступні"),C();const n=document.querySelector(".success-stories-section .swiper-wrapper");n&&(n.innerHTML='<p class="error-swiper">Нажаль, історії зараз недоступні</p>');return}Le(e);const t=new K(".success-stories-section .swiper",{direction:"horizontal",loop:!1,speed:400,spaceBetween:32,pagination:{el:".success-stories-section .swiper-pagination",clickable:!0,dynamicBullets:!1},navigation:{nextEl:".success-stories-section .swiper-button-next",prevEl:".success-stories-section .swiper-button-prev"},breakpoints:{768:{slidesPerView:2}}});Ie(),C()}catch{D("Cталась помилка. Спробуйте пізніше");const t=document.querySelector(".success-stories-section .swiper-wrapper");t&&(t.innerHTML='<p class="error-swiper">Нажаль, історії зараз недоступні</p>'),C()}});document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".footer-nav-link").forEach(t=>{t.addEventListener("click",function(n){n.preventDefault();const o=this.getAttribute("href");if(o&&o.startsWith("#")){const r=document.querySelector(o);r&&r.scrollIntoView({behavior:"smooth",block:"start"})}})})});document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelectorAll(".footer-nav-link");e.length&&e.forEach(t=>{t.addEventListener("click",n=>{if(t.classList.contains("is-disabled"))return;e.forEach(i=>i.classList.remove("is-active")),t.classList.add("is-active");const o=t.getAttribute("href"),r=document.querySelector(o);r&&r.scrollIntoView({behavior:"smooth"}),history.pushState(null,"",o)})})});const a=document.querySelector(".animal-details-modal"),R=a==null?void 0:a.querySelector(".icon"),T=a==null?void 0:a.querySelector(".button"),_=a==null?void 0:a.querySelector(".pet-image");let p=null;const y=document.getElementById("pet-name"),h=document.getElementById("pet-type"),v=document.getElementById("age"),b=document.getElementById("gender"),L=document.getElementById("desc"),w=document.getElementById("health"),E=document.getElementById("behaviour");function Y(){return p||(_?(p=document.createElement("img"),p.classList.add("placeholder-image"),p.alt="",_.appendChild(p),p):null)}let j=null;function N(){a==null||a.classList.remove("visually-hidden"),document.body.classList.add("lock-scroll"),document.documentElement.classList.add("lock-scroll")}function B(){a==null||a.classList.add("visually-hidden"),document.body.classList.remove("lock-scroll"),document.documentElement.classList.remove("lock-scroll");const e=Y();e&&(e.src="",e.alt=""),y&&(y.textContent=""),h&&(h.textContent=""),v&&(v.textContent=""),b&&(b.textContent=""),L&&(L.textContent=""),w&&(w.textContent=""),E&&(E.textContent=""),j=null}function Se(e){const t=ye(e);if(j=e,!t){N();return}const n=Y(),o=new Image;o.onload=()=>{n&&(n.src=t.image||"",n.alt=t.name||""),y&&(y.textContent=t.name||""),h&&(h.textContent=t.species||""),v&&(v.textContent=t.age||""),b&&(b.textContent=t.gender||""),L&&(L.textContent=t.description||""),w&&(w.textContent=t.healthStatus||""),E&&(E.textContent=t.behavior||""),N()},o.onerror=()=>{console.error("Failed to load image:",t.image),n&&(n.src=t.image||"",n.alt=t.name||""),y&&(y.textContent=t.name||""),h&&(h.textContent=t.species||""),v&&(v.textContent=t.age||""),b&&(b.textContent=t.gender||""),L&&(L.textContent=t.description||""),w&&(w.textContent=t.healthStatus||""),E&&(E.textContent=t.behavior||""),N()},o.src=t.image||""}T==null||T.addEventListener("click",()=>{const e=j;B(),window.dispatchEvent(new CustomEvent("open-order-modal",{detail:{petId:e}}))});R==null||R.addEventListener("click",B);a==null||a.addEventListener("click",e=>{e.target===a&&B()});document.addEventListener("keydown",e=>{e.key==="Escape"&&!(a!=null&&a.classList.contains("visually-hidden"))&&B()});window.addEventListener("open-animal-modal",e=>{Se(e.detail.petId)});const Ce=x.create({baseURL:"https://paw-hut.b.goit.study/api"}),s={overlay:document.querySelector(".order-modal-overlay"),modal:document.querySelector(".order-modal"),closeBtn:document.querySelector(".order-btn-close"),form:document.querySelector(".order-form"),nameInput:document.querySelector("#user-name"),phoneInput:document.querySelector("#user-tel"),commentInput:document.querySelector("#user-comment"),submitBtn:document.querySelector(".btn-send")};let M=null;window.addEventListener("open-order-modal",e=>{var n;const t=(n=e==null?void 0:e.detail)==null?void 0:n.petId;if(!t){c.error({title:"Помилка",message:"Не вдалося визначити тварину для заявки",position:"topRight"});return}M=t,ke()});function ke(){s.overlay.classList.add("is-open"),document.documentElement.classList.add("modal-open"),document.body.classList.add("modal-open"),s.submitBtn.disabled=!0,P(),document.addEventListener("keydown",ee)}function A(){s.overlay.classList.remove("is-open"),document.documentElement.classList.remove("modal-open"),document.body.classList.remove("modal-open"),s.form.reset(),s.submitBtn.disabled=!0,d(s.nameInput),d(s.phoneInput),d(s.commentInput),M=null,document.removeEventListener("keydown",ee)}s.closeBtn.addEventListener("click",A);s.overlay.addEventListener("click",e=>{e.target===s.overlay&&A()});function ee(e){e.key==="Escape"&&s.overlay.classList.contains("is-open")&&A()}s.form.addEventListener("submit",async e=>{e.preventDefault();const t=s.nameInput.value.trim(),n=s.phoneInput.value,o=s.commentInput.value.trim(),r=H(n);if(!qe(t,r,o))return;const i={name:t,phone:r,comment:o||void 0,animalId:M};try{await Ce.post("/orders",i),c.success({title:"Успішно",message:"Заявку відправлено",position:"topRight"}),A()}catch{c.error({title:"Помилка",message:"Не вдалося відправити заявку",position:"topRight"})}});function qe(e,t,n){let o=!0;return d(s.nameInput),d(s.phoneInput),d(s.commentInput),(!e||e.length<3||e.length>32)&&(f(s.nameInput,"Імʼя має бути від 3 до 32 символів"),o=!1),(!t||!/^[0-9]{12}$/.test(t))&&(f(s.phoneInput,"Введіть коректний номер телефону"),o=!1),n&&n.length>500&&(f(s.commentInput,"Коментар не може перевищувати 500 символів"),o=!1),M||(c.error({message:"Не обрано тварину",position:"topRight"}),o=!1),o}function f(e,t){var o;e.classList.add("is-error");const n=(o=e.closest(".order-container-area, .order-container-label"))==null?void 0:o.querySelector(".order-error-text");n&&(n.textContent=t,n.classList.add("is-visible"))}function d(e){var n;e.classList.remove("is-error");const t=(n=e.closest(".order-container-area, .order-container-label"))==null?void 0:n.querySelector(".order-error-text");t&&(t.classList.remove("is-visible"),t.textContent="")}s.nameInput.addEventListener("input",()=>{let e=s.nameInput.value.trim();e=e.replace(/[^a-zA-Zа-яА-ЯіІїЇєЄґҐ\s-]/g,""),s.nameInput.value=e,d(s.nameInput),e.length>0&&e.length<3?f(s.nameInput,"Мінімум 3 символи"):e.length>32&&f(s.nameInput,"Максимум 32 символи"),P()});s.phoneInput.addEventListener("input",()=>{let e=s.phoneInput.value;e=e.replace(/[^0-9+]/g,""),e.includes("+")&&(e="+"+e.replace(/\+/g,"").replace(/^/,"")),s.phoneInput.value=e;const t=H(e);d(s.phoneInput),t&&!/^[0-9]{12}$/.test(t)&&f(s.phoneInput,"Введіть коректний номер телефону"),P()});s.commentInput.addEventListener("input",()=>{const e=s.commentInput.value.trim();d(s.commentInput),e.length>500&&f(s.commentInput,"Максимум 500 символів"),P()});function H(e){let t=e.replace(/\D/g,"");return t.length===10&&t.startsWith("0")&&(t="38"+t),t.length===12&&t.startsWith("380"),t}function P(){const e=s.nameInput.value.trim(),t=H(s.phoneInput.value),n=s.commentInput.value.trim(),o=e.length>=3&&e.length<=32,r=/^[0-9]{12}$/.test(t),i=n.length<=500;s.submitBtn.disabled=!(o&&r&&i)}
//# sourceMappingURL=index.js.map
