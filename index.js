import{a as w,i as c,S as k,N as $,P as I,A as P,R as O}from"./assets/vendor-yK1sj6ZY.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function t(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(s){if(s.ep)return;s.ep=!0;const r=t(s);fetch(s.href,r)}})();document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".header-burger"),o=document.querySelector(".header-close"),t=document.querySelector(".header-mob-menu"),n=document.querySelectorAll(".header-link");e.addEventListener("click",()=>{t.classList.add("mob-menu-open"),e.classList.add("is-hidden"),o.classList.add("is-active"),document.body.style.overflow="hidden"});const s=()=>{t.classList.remove("mob-menu-open"),e.classList.remove("is-hidden"),o.classList.remove("is-active"),document.body.style.overflow=""};o.addEventListener("click",s),document.addEventListener("keydown",i=>{i.key==="Escape"&&t.classList.contains("mob-menu-open")&&s()}),t.addEventListener("click",i=>{i.target.closest(".header-mob-menu-container")||s()}),n.forEach(i=>{i.addEventListener("click",g=>{const a=i.getAttribute("href");if(a.startsWith("#")&&a.length>1){g.preventDefault();const y=document.querySelector(a);if(!y)return;window.innerWidth<1440?(s(),setTimeout(()=>{y.scrollIntoView({behavior:"smooth",block:"start"})},300)):y.scrollIntoView({behavior:"smooth",block:"start"})}})}),document.querySelectorAll(".header-btn[data-scroll]").forEach(i=>{i.addEventListener("click",()=>{const g=i.dataset.scroll,a=document.querySelector(g);a&&a.scrollIntoView({behavior:"smooth",block:"start"}),t.classList.contains("mob-menu-open")&&s()})}),window.addEventListener("resize",()=>{window.innerWidth>=1440&&s()})});document.getElementById("scrollToStories").addEventListener("click",function(e){e.preventDefault(),document.querySelector("#success-stories").scrollIntoView({behavior:"smooth"})});async function D(e,o=1){const t=window.innerWidth<1440?8:9,s={page:Math.max(1,Number(o)||1),limit:t};return e&&(s.categoryId=e),(await w.get("https://paw-hut.b.goit.study/api/animals/",{params:s})).data}async function x(){return(await w.get("https://paw-hut.b.goit.study/api/categories/",{})).data}const T=document.querySelector(".pets-category-list"),M=document.querySelector(".pets-list"),C=document.querySelector(".loader"),m=document.querySelector(".more-pets-button");function V(e){const o=e.map(t=>`<li class="pet-list-item">
            <div class="pet-item-link">
                <img class="pet-image" src="${t.image}" alt="${t.shortDescription}"/>
            </div>
            <div class="info-container">
                <p class="pet-info species">${t.species}</p>
                <p class="pet-info name">${t.name}</p>
                <div class="pet-info category">${t.categories.map(n=>`<span class="category">${n.name}</span>`).join(" ")}
                </div>
                <p class="pet-info age-gender"><span class="age">${t.age}</span class="gender"><span>${t.gender}</span></p>
                <p class="pet-info behavior">${t.behavior} ${t.shortDescription}</p>
            </div>
            <div class="button-container animated-button ligth">
                <a class="more-pet-info" data-id="${t._id}">Дізнатись більше</a>
            </div>
        </li>`).join("");M.insertAdjacentHTML("beforeend",o)}function B(){M.innerHTML=""}function A(){C.style.display="block"}function N(){C.style.display="none"}function d(){m.style.display="none"}function R(){m.style.display="block"}function j(){const e=document.querySelector(".pet-list-item");if(!e)return;const o=e.getBoundingClientRect().height;window.scrollBy({top:o*2,behavior:"smooth"})}const L=["Всі","Собаки","Коти","Кролики","Гризуни","Птахи","Тварини з особливими потребами","Терміново шукають дім"];function H(e){const t=e.slice().sort((n,s)=>L.indexOf(n.name)-L.indexOf(s.name)).map(n=>`
            <li class="category-list-item">
                <button class="pet-category-button animated-button dark"
                    type="button"
                    data-category-id="${n._id}">
                    ${n.name}
                </button>
            </li>
        `).join("");T.insertAdjacentHTML("beforeend",t)}let u=1,f="",l=[];const h=document.querySelector(".pets-list");document.querySelector(".animal-details-modal");const S=document.querySelector(".pets-category-list"),W=document.querySelector(".pet-category-button.all");W.classList.add("is-deactive");Q();b(f,u);S.addEventListener("click",e=>{const o=e.target.closest(".pet-category-button");if(!o)return;const t=S.querySelector(".pet-category-button.is-deactive");t&&t.classList.remove("is-deactive"),o.classList.add("is-deactive"),f=o.dataset.categoryId||"",u=1,d(),B(),A(),b(f,u)});m&&m.addEventListener("click",e=>{e.preventDefault(),d(),A(),u++,b(f,u)});h==null||h.addEventListener("click",e=>{const o=e.target.closest(".more-pet-info");if(!o)return;e.preventDefault();const t=o.dataset.id;window.dispatchEvent(new CustomEvent("open-animal-modal",{detail:{petId:t}}))});async function b(e,o){try{d();const t=await D(e,o);if(t.animals.length===0){c.info({message:"Тварин не знайдено за обраним фільтром.",position:"topRight"}),B(),d();return}l=t.animals,z(l),V(l),o>1&&j();const n=Math.ceil(t.totalItems/t.limit);o>=n?(d(),c.info({message:"Ви переглянули всі доступні результати."})):R()}catch(t){c.error({message:(t==null?void 0:t.message)||"Сталася помилка під час завантаження тварин.",position:"topRight"})}finally{N()}}async function Q(){try{const e=await x();if(!Array.isArray(e)||e.length===0){c.info({message:"Категорії не знайдено.",position:"topRight"});return}l=e,H(l)}catch(e){c.error({message:(e==null?void 0:e.message)||"Сталася помилка під час завантаження категорій.",position:"topRight"})}finally{}}function z(e){l=Array.isArray(e)?e:[]}function E(e){const o=e.params.navigation.prevEl,t=e.params.navigation.nextEl;o&&t&&(o.disabled=e.isBeginning,t.disabled=e.isEnd)}function U(){const e=document.querySelector(".about-us-section .swiper");if(!e)return null;const o=new k(e,{modules:[$,I],loop:!1,navigation:{nextEl:".swiper-controls .swiper-button-next",prevEl:".swiper-controls .swiper-button-prev"},pagination:{el:".swiper-controls .swiper-pagination",clickable:!0},slidesPerView:1,spaceBetween:20,breakpoints:{768:{slidesPerView:1},1280:{slidesPerView:1}},on:{slideChange(){E(o)}}});return E(o),o}function q(){U()}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",q):q();new P("#faq-accordion",{duration:300,showMultiple:!1,openOnInit:[]});const _=w.create({baseURL:"https://paw-hut.b.goit.study/api/",params:{page:1,limit:6}});async function F(){try{const{data:e}=await _.get("/feedbacks");return e.feedbacks}catch{return null}}function K(e){const o=document.querySelector(".swiper-wrapper"),t=e.map(({description:n,rate:s,author:r})=>`
        <div class="swiper-slide">
          <div class="star-rating" data-score="${s}"></div>     
            <p class="storie-text">${n}</p>
            <p class="storie-names">${r}</p>  
        </div>`).join("");o.insertAdjacentHTML("beforeend",t),document.querySelectorAll(".star-rating").forEach(n=>{new O(n,{starType:"svg",readOnly:!0}).init()})}const G=document.querySelector(".stories-loader"),J=document.querySelector(".swiper-controls");function v(e){c.info({message:e,position:"topRight",color:"#f2aaaaff",icon:!1,progressBar:!1,messageColor:"black"})}function p(){G.classList.remove("loader")}function X(){J.classList.remove("visually-hidden")}window.addEventListener("DOMContentLoaded",async()=>{try{let e=await F();if(e===null){v("Не вдалося завантажити історії. Спробуйте пізніше"),p();const t=document.querySelector(".swiper-wrapper");t&&(t.innerHTML='<p class="error-swiper">Не вдалося завантажити історії</p>');return}if(e.length===0){v("Нажаль, історії зараз недоступні"),p();const t=document.querySelector(".swiper-wrapper");t&&(t.innerHTML='<p class="error-swiper">Нажаль, історії зараз недоступні</p>');return}K(e);const o=new k(".swiper",{direction:"horizontal",loop:!1,speed:400,spaceBetween:32,pagination:{el:".swiper-pagination",clickable:!0,dynamicBullets:!1},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{768:{slidesPerView:2}}});X(),p()}catch{v("Cталась помилка. Спробуйте пізніше");const o=document.querySelector(".swiper-wrapper");o&&(o.innerHTML='<p class="error-swiper">Нажаль, історії зараз недоступні</p>'),p()}});document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".footer-nav-link").forEach(o=>{o.addEventListener("click",function(t){t.preventDefault();const n=this.getAttribute("href");if(n&&n.startsWith("#")){const s=document.querySelector(n);s&&s.scrollIntoView({behavior:"smooth",block:"start"})}})})});document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelectorAll(".footer-nav-link");e.length&&e.forEach(o=>{o.addEventListener("click",t=>{if(o.classList.contains("is-disabled"))return;e.forEach(r=>r.classList.remove("is-active")),o.classList.add("is-active");const n=o.getAttribute("href"),s=document.querySelector(n);s&&s.scrollIntoView({behavior:"smooth"}),history.pushState(null,"",n)})})});
//# sourceMappingURL=index.js.map
