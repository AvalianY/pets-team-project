import{a as A,i as v,S as R,N as z,P as _,A as F,R as U}from"./assets/vendor-yK1sj6ZY.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".header-burger"),t=document.querySelector(".header-close"),n=document.querySelector(".header-mob-menu"),s=document.querySelectorAll(".header-link");e.addEventListener("click",()=>{n.classList.add("mob-menu-open"),e.classList.add("is-hidden"),t.classList.add("is-active"),document.body.style.overflow="hidden"});const o=()=>{n.classList.remove("mob-menu-open"),e.classList.remove("is-hidden"),t.classList.remove("is-active"),document.body.style.overflow=""};t.addEventListener("click",o),document.addEventListener("keydown",a=>{a.key==="Escape"&&n.classList.contains("mob-menu-open")&&o()}),n.addEventListener("click",a=>{a.target.closest(".header-mob-menu-container")||o()}),s.forEach(a=>{a.addEventListener("click",q=>{const d=a.getAttribute("href");if(d.startsWith("#")&&d.length>1){q.preventDefault();const k=document.querySelector(d);if(!k)return;window.innerWidth<1440?(o(),setTimeout(()=>{k.scrollIntoView({behavior:"smooth",block:"start"})},300)):k.scrollIntoView({behavior:"smooth",block:"start"})}})}),document.querySelectorAll(".header-btn[data-scroll]").forEach(a=>{a.addEventListener("click",()=>{const q=a.dataset.scroll,d=document.querySelector(q);d&&d.scrollIntoView({behavior:"smooth",block:"start"}),n.classList.contains("mob-menu-open")&&o()})}),window.addEventListener("resize",()=>{window.innerWidth>=1440&&o()})});document.getElementById("scrollToStories").addEventListener("click",function(e){e.preventDefault(),document.querySelector("#success-stories").scrollIntoView({behavior:"smooth"})});async function K(e,t=1){const n=window.innerWidth<1440?8:9,o={page:Math.max(1,Number(t)||1),limit:n};return e&&(o.categoryId=e),(await A.get("https://paw-hut.b.goit.study/api/animals/",{params:o})).data}async function G(){return(await A.get("https://paw-hut.b.goit.study/api/categories/",{})).data}const J=document.querySelector(".pets-category-list"),j=document.querySelector(".pets-list"),H=document.querySelector(".loader"),E=document.querySelector(".more-pets-button");function X(e){const t=e.map(n=>`<li class="pet-list-item">
            <div class="pet-item-link">
                <img class="pet-image" src="${n.image}" alt="${n.shortDescription}"/>
            </div>
            <div class="info-container">
                <p class="pet-info species">${n.species}</p>
                <p class="pet-info name">${n.name}</p>
                <div class="pet-info category">${n.categories.map(s=>`<span class="category">${s.name}</span>`).join(" ")}
                </div>
                <p class="pet-info age-gender"><span class="age">${n.age}</span class="gender"><span>${n.gender}</span></p>
                <p class="pet-info behavior">${n.behavior} ${n.shortDescription}</p>
            </div>
            <div class="button-container animated-button ligth">
                <a class="more-pet-info" data-id="${n._id}">Дізнатись більше</a>
            </div>
        </li>`).join("");j.insertAdjacentHTML("beforeend",t)}function W(){j.innerHTML=""}function Q(){H.style.display="block"}function Y(){H.style.display="none"}function b(){E.style.display="none"}function Z(){E.style.display="block"}function ee(){const e=document.querySelector(".pet-list-item");if(!e)return;const t=e.getBoundingClientRect().height;window.scrollBy({top:t*2,behavior:"smooth"})}const O=["Всі","Собаки","Коти","Кролики","Гризуни","Птахи","Тварини з особливими потребами","Терміново шукають дім"];function te(e){const n=e.slice().sort((s,o)=>O.indexOf(s.name)-O.indexOf(o.name)).map(s=>`
            <li class="category-list-item">
                <button class="pet-category-button animated-button dark"
                    type="button"
                    data-category-id="${s._id}">
                    ${s.name}
                </button>
            </li>
        `).join("");J.insertAdjacentHTML("beforeend",n)}let w=1,S="",l=[];const x=document.querySelector(".pets-list");document.querySelector(".animal-details-modal");const D=document.querySelector(".pets-category-list"),ne=document.querySelector(".pet-category-button.all");ne.classList.add("is-deactive");oe();P(S,w);D.addEventListener("click",e=>{const t=e.target.closest(".pet-category-button");if(!t)return;const n=D.querySelector(".pet-category-button.is-deactive");n&&n.classList.remove("is-deactive"),t.classList.add("is-deactive"),S=t.dataset.categoryId||"",w=1,b(),W(),Q(),P(S,w)});E&&E.addEventListener("click",e=>{e.preventDefault(),b(),Q(),w++,P(S,w)});x==null||x.addEventListener("click",e=>{const t=e.target.closest(".more-pet-info");if(!t)return;e.preventDefault();const n=t.dataset.id;window.dispatchEvent(new CustomEvent("open-animal-modal",{detail:{petId:n}}))});async function P(e,t){try{b();const n=await K(e,t);if(n.animals.length===0){v.info({message:"Тварин не знайдено за обраним фільтром.",position:"topRight"}),W(),b();return}l=n.animals,se(l),X(l),t>1&&ee();const s=Math.ceil(n.totalItems/n.limit);t>=s?(b(),v.info({message:"Ви переглянули всі доступні результати."})):Z()}catch(n){v.error({message:(n==null?void 0:n.message)||"Сталася помилка під час завантаження тварин.",position:"topRight"})}finally{Y()}}async function oe(){try{const e=await G();if(!Array.isArray(e)||e.length===0){v.info({message:"Категорії не знайдено.",position:"topRight"});return}l=e,te(l)}catch(e){v.error({message:(e==null?void 0:e.message)||"Сталася помилка під час завантаження категорій.",position:"topRight"})}finally{}}function se(e){l=Array.isArray(e)?e:[]}function ie(e){return l.find(t=>t._id===e)}function T(e){var s,o,r,a;const t=Array.isArray((s=e.navigation)==null?void 0:s.prevEl)?e.navigation.prevEl[0]:(o=e.navigation)==null?void 0:o.prevEl,n=Array.isArray((r=e.navigation)==null?void 0:r.nextEl)?e.navigation.nextEl[0]:(a=e.navigation)==null?void 0:a.nextEl;t&&n&&(t.disabled=e.isBeginning,n.disabled=e.isEnd)}function re(){const e=document.querySelector(".about-us-section .about-us-swiper");if(!e)return null;const t=new R(e,{modules:[z,_],loop:!1,wrapperClass:"about-us-swiper-wrapper",slideClass:"about-us-swiper-slide",navigation:{nextEl:".about-us-swiper-controls .about-us-swiper-button-next",prevEl:".about-us-swiper-controls .about-us-swiper-button-prev"},pagination:{el:".about-us-swiper-controls .about-us-swiper-pagination",clickable:!0},slidesPerView:1,spaceBetween:20,breakpoints:{768:{slidesPerView:1},1280:{slidesPerView:1}},on:{slideChange(){T(t)}}});return T(t),t}function N(){re()}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",N):N();new F("#faq-accordion",{duration:300,showMultiple:!1,openOnInit:[]});const ae=A.create({baseURL:"https://paw-hut.b.goit.study/api/",params:{page:1,limit:6}});async function ce(){try{const{data:e}=await ae.get("/feedbacks");return e.feedbacks}catch{return null}}function le(e){const t=document.querySelector(".swiper-wrapper"),n=e.map(({description:s,rate:o,author:r})=>`
        <div class="swiper-slide">
          <div class="star-rating" data-score="${o}"></div>     
            <p class="storie-text">${s}</p>
            <p class="storie-names">${r}</p>  
        </div>`).join("");t.insertAdjacentHTML("beforeend",n),document.querySelectorAll(".star-rating").forEach(s=>{new U(s,{starType:"svg",readOnly:!0}).init()})}const de=document.querySelector(".stories-loader"),ue=document.querySelector(".swiper-controls");function I(e){v.info({message:e,position:"topRight",color:"#f2aaaaff",icon:!1,progressBar:!1,messageColor:"black"})}function L(){de.classList.remove("loader")}function pe(){ue.classList.remove("visually-hidden")}window.addEventListener("DOMContentLoaded",async()=>{try{let e=await ce();if(e===null){I("Не вдалося завантажити історії. Спробуйте пізніше"),L();const n=document.querySelector(".swiper-wrapper");n&&(n.innerHTML='<p class="error-swiper">Не вдалося завантажити історії</p>');return}if(e.length===0){I("Нажаль, історії зараз недоступні"),L();const n=document.querySelector(".swiper-wrapper");n&&(n.innerHTML='<p class="error-swiper">Нажаль, історії зараз недоступні</p>');return}le(e);const t=new R(".swiper",{direction:"horizontal",loop:!1,speed:400,spaceBetween:32,pagination:{el:".swiper-pagination",clickable:!0,dynamicBullets:!1},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{768:{slidesPerView:2}}});pe(),L()}catch{I("Cталась помилка. Спробуйте пізніше");const t=document.querySelector(".swiper-wrapper");t&&(t.innerHTML='<p class="error-swiper">Нажаль, історії зараз недоступні</p>'),L()}});document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".footer-nav-link").forEach(t=>{t.addEventListener("click",function(n){n.preventDefault();const s=this.getAttribute("href");if(s&&s.startsWith("#")){const o=document.querySelector(s);o&&o.scrollIntoView({behavior:"smooth",block:"start"})}})})});document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelectorAll(".footer-nav-link");e.length&&e.forEach(t=>{t.addEventListener("click",n=>{if(t.classList.contains("is-disabled"))return;e.forEach(r=>r.classList.remove("is-active")),t.classList.add("is-active");const s=t.getAttribute("href"),o=document.querySelector(s);o&&o.scrollIntoView({behavior:"smooth"}),history.pushState(null,"",s)})})});const i=document.querySelector(".animal-details-modal"),B=i==null?void 0:i.querySelector(".icon"),M=i==null?void 0:i.querySelector(".button"),c=i==null?void 0:i.querySelector(".placeholder-image"),u=document.getElementById("pet-name"),p=document.getElementById("pet-type"),f=document.getElementById("age"),m=document.getElementById("gender"),g=document.getElementById("desc"),y=document.getElementById("health"),h=document.getElementById("behaviour");let $=null;function V(){i==null||i.classList.remove("visually-hidden"),document.body.style.overflow="hidden"}function C(){i==null||i.classList.add("visually-hidden"),document.body.style.overflow="",c&&(c.src="",c.alt=""),u&&(u.textContent=""),p&&(p.textContent=""),f&&(f.textContent=""),m&&(m.textContent=""),g&&(g.textContent=""),y&&(y.textContent=""),h&&(h.textContent=""),$=null}function fe(e){const t=ie(e);if($=e,console.log(t),!t){console.error("Pet not found:",e);return}const n=new Image;n.onload=()=>{c&&(c.src=t.image||"",c.alt=t.name||""),u&&(u.textContent=t.name||""),p&&(p.textContent=t.species||""),f&&(f.textContent=t.age||""),m&&(m.textContent=t.gender||""),g&&(g.textContent=t.description||""),y&&(y.textContent=t.healthStatus||""),h&&(h.textContent=t.behavior||""),V()},n.onerror=()=>{console.error("Failed to load image:",t.image),c&&(c.src=t.image||"",c.alt=t.name||""),u&&(u.textContent=t.name||""),p&&(p.textContent=t.species||""),f&&(f.textContent=t.age||""),m&&(m.textContent=t.gender||""),g&&(g.textContent=t.description||""),y&&(y.textContent=t.healthStatus||""),h&&(h.textContent=t.behavior||""),V()},n.src=t.image||""}M==null||M.addEventListener("click",()=>{C();const e=new CustomEvent("open-order-modal",{detail:{petId:$}});window.dispatchEvent(e)});B==null||B.addEventListener("click",C);i==null||i.addEventListener("click",e=>{e.target===i&&C()});document.addEventListener("keydown",e=>{e.key==="Escape"&&!(i!=null&&i.classList.contains("visually-hidden"))&&C()});window.addEventListener("open-animal-modal",e=>{fe(e.detail.petId)});
//# sourceMappingURL=index.js.map
