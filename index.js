import{a as q,i as d,S as Q,N as Y,P as Z,A as ee,R as te}from"./assets/vendor-yK1sj6ZY.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".header-burger"),t=document.querySelector(".header-close"),n=document.querySelector(".header-mob-menu"),s=document.querySelectorAll(".header-link");e.addEventListener("click",()=>{n.classList.add("mob-menu-open"),e.classList.add("is-hidden"),t.classList.add("is-active"),document.body.style.overflow="hidden"});const o=()=>{n.classList.remove("mob-menu-open"),e.classList.remove("is-hidden"),t.classList.remove("is-active"),document.body.style.overflow=""};t.addEventListener("click",o),document.addEventListener("keydown",c=>{c.key==="Escape"&&n.classList.contains("mob-menu-open")&&o()}),n.addEventListener("click",c=>{c.target.closest(".header-mob-menu-container")||o()}),s.forEach(c=>{c.addEventListener("click",M=>{const p=c.getAttribute("href");if(p.startsWith("#")&&p.length>1){M.preventDefault();const P=document.querySelector(p);if(!P)return;window.innerWidth<1440?(o(),setTimeout(()=>{P.scrollIntoView({behavior:"smooth",block:"start"})},300)):P.scrollIntoView({behavior:"smooth",block:"start"})}})}),document.querySelectorAll(".header-btn[data-scroll]").forEach(c=>{c.addEventListener("click",()=>{const M=c.dataset.scroll,p=document.querySelector(M);p&&p.scrollIntoView({behavior:"smooth",block:"start"}),n.classList.contains("mob-menu-open")&&o()})}),window.addEventListener("resize",()=>{window.innerWidth>=1440&&o()})});document.getElementById("scrollToStories").addEventListener("click",function(e){e.preventDefault(),document.querySelector("#success-stories").scrollIntoView({behavior:"smooth"})});async function ne(e,t=1){const n=window.innerWidth<1440?8:9,o={page:Math.max(1,Number(t)||1),limit:n};return e&&(o.categoryId=e),(await q.get("https://paw-hut.b.goit.study/api/animals/",{params:o})).data}async function oe(){return(await q.get("https://paw-hut.b.goit.study/api/categories/",{})).data}const se=document.querySelector(".pets-category-list"),_=document.querySelector(".pets-list"),U=document.querySelector(".loader"),I=document.querySelector(".more-pets-button");function re(e){const t=e.map(n=>`<li class="pet-list-item">
            <div class="pet-item-link">
                <img class="pet-image" src="${n.image}" alt="${n.shortDescription}"/>
            </div>
            <div class="info-container">
                <p class="pet-info species">${n.species}</p>
                <p class="pet-info name">${n.name}</p>
                <div class="pet-info category">${n.categories.map(s=>`<span class="category">${s.name}</span>`).join(" ")}
                </div>
                <p class="pet-info age-gender"><span class="age">${n.age}</span class="gender"><span>${n.gender}</span></p>
                <p class="pet-info behavior">${n.behavior} ${n.shortDescription}</p>
            </div>
            <div class="button-container animated-button ligth">
                <a class="more-pet-info" data-id="${n._id}">Дізнатись більше</a>
            </div>
        </li>`).join("");_.insertAdjacentHTML("beforeend",t)}function K(){_.innerHTML=""}function G(){U.style.display="block"}function ie(){U.style.display="none"}function L(){I.style.display="none"}function ae(){I.style.display="block"}function ce(){const e=document.querySelector(".pet-list-item");if(!e)return;const t=e.getBoundingClientRect().height;window.scrollBy({top:t*2,behavior:"smooth"})}const W=["Всі","Собаки","Коти","Кролики","Гризуни","Птахи","Тварини з особливими потребами","Терміново шукають дім"];function le(e){const n=e.slice().sort((s,o)=>W.indexOf(s.name)-W.indexOf(o.name)).map(s=>`
            <li class="category-list-item">
                <button class="pet-category-button animated-button dark"
                    type="button"
                    data-category-id="${s._id}">
                    ${s.name}
                </button>
            </li>
        `).join("");se.insertAdjacentHTML("beforeend",n)}let E=1,C="",u=[];const A=document.querySelector(".pets-list");document.querySelector(".animal-details-modal");const j=document.querySelector(".pets-category-list"),de=document.querySelector(".pet-category-button.all");de.classList.add("is-deactive");ue();T(C,E);j.addEventListener("click",e=>{const t=e.target.closest(".pet-category-button");if(!t)return;const n=j.querySelector(".pet-category-button.is-deactive");n&&n.classList.remove("is-deactive"),t.classList.add("is-deactive"),C=t.dataset.categoryId||"",E=1,L(),K(),G(),T(C,E)});I&&I.addEventListener("click",e=>{e.preventDefault(),L(),G(),E++,T(C,E)});A==null||A.addEventListener("click",e=>{const t=e.target.closest(".more-pet-info");if(!t)return;e.preventDefault();const n=t.dataset.id;window.dispatchEvent(new CustomEvent("open-animal-modal",{detail:{petId:n}}))});async function T(e,t){try{L();const n=await ne(e,t);if(n.animals.length===0){d.info({message:"Тварин не знайдено за обраним фільтром.",position:"topRight"}),K(),L();return}u=n.animals,pe(u),re(u),t>1&&ce();const s=Math.ceil(n.totalItems/n.limit);t>=s?(L(),d.info({message:"Ви переглянули всі доступні результати."})):ae()}catch(n){d.error({message:(n==null?void 0:n.message)||"Сталася помилка під час завантаження тварин.",position:"topRight"})}finally{ie()}}async function ue(){try{const e=await oe();if(!Array.isArray(e)||e.length===0){d.info({message:"Категорії не знайдено.",position:"topRight"});return}u=e,le(u)}catch(e){d.error({message:(e==null?void 0:e.message)||"Сталася помилка під час завантаження категорій.",position:"topRight"})}finally{}}function pe(e){u=Array.isArray(e)?e:[]}function me(e){return u.find(t=>t._id===e)}function H(e){var s,o,i,c;const t=Array.isArray((s=e.navigation)==null?void 0:s.prevEl)?e.navigation.prevEl[0]:(o=e.navigation)==null?void 0:o.prevEl,n=Array.isArray((i=e.navigation)==null?void 0:i.nextEl)?e.navigation.nextEl[0]:(c=e.navigation)==null?void 0:c.nextEl;t&&n&&(t.disabled=e.isBeginning,n.disabled=e.isEnd)}function fe(){const e=document.querySelector(".about-us-section .about-us-swiper");if(!e)return null;const t=new Q(e,{modules:[Y,Z],loop:!1,wrapperClass:"about-us-swiper-wrapper",slideClass:"about-us-swiper-slide",navigation:{nextEl:".about-us-swiper-controls .about-us-swiper-button-next",prevEl:".about-us-swiper-controls .about-us-swiper-button-prev"},pagination:{el:".about-us-swiper-controls .about-us-swiper-pagination",clickable:!0},slidesPerView:1,spaceBetween:20,breakpoints:{768:{slidesPerView:1},1280:{slidesPerView:1}},on:{slideChange(){H(t)}}});return H(t),t}function F(){fe()}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",F):F();new ee("#faq-accordion",{duration:300,showMultiple:!1,openOnInit:[]});const ye=q.create({baseURL:"https://paw-hut.b.goit.study/api/",params:{page:1,limit:6}});async function ge(){try{const{data:e}=await ye.get("/feedbacks");return e.feedbacks}catch{return null}}function ve(e){const t=document.querySelector(".swiper-wrapper"),n=e.map(({description:s,rate:o,author:i})=>`
        <div class="swiper-slide">
          <div class="star-rating" data-score="${o}"></div>     
            <p class="storie-text">${s}</p>
            <p class="storie-names">${i}</p>  
        </div>`).join("");t.insertAdjacentHTML("beforeend",n),document.querySelectorAll(".star-rating").forEach(s=>{new te(s,{starType:"svg",readOnly:!0}).init()})}const he=document.querySelector(".stories-loader"),be=document.querySelector(".swiper-controls");function $(e){d.info({message:e,position:"topRight",color:"#f2aaaaff",icon:!1,progressBar:!1,messageColor:"black"})}function S(){he.classList.remove("loader")}function we(){be.classList.remove("visually-hidden")}window.addEventListener("DOMContentLoaded",async()=>{try{let e=await ge();if(e===null){$("Не вдалося завантажити історії. Спробуйте пізніше"),S();const n=document.querySelector(".swiper-wrapper");n&&(n.innerHTML='<p class="error-swiper">Не вдалося завантажити історії</p>');return}if(e.length===0){$("Нажаль, історії зараз недоступні"),S();const n=document.querySelector(".swiper-wrapper");n&&(n.innerHTML='<p class="error-swiper">Нажаль, історії зараз недоступні</p>');return}ve(e);const t=new Q(".swiper",{direction:"horizontal",loop:!1,speed:400,spaceBetween:32,pagination:{el:".swiper-pagination",clickable:!0,dynamicBullets:!1},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{768:{slidesPerView:2}}});we(),S()}catch{$("Cталась помилка. Спробуйте пізніше");const t=document.querySelector(".swiper-wrapper");t&&(t.innerHTML='<p class="error-swiper">Нажаль, історії зараз недоступні</p>'),S()}});document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".footer-nav-link").forEach(t=>{t.addEventListener("click",function(n){n.preventDefault();const s=this.getAttribute("href");if(s&&s.startsWith("#")){const o=document.querySelector(s);o&&o.scrollIntoView({behavior:"smooth",block:"start"})}})})});document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelectorAll(".footer-nav-link");e.length&&e.forEach(t=>{t.addEventListener("click",n=>{if(t.classList.contains("is-disabled"))return;e.forEach(i=>i.classList.remove("is-active")),t.classList.add("is-active");const s=t.getAttribute("href"),o=document.querySelector(s);o&&o.scrollIntoView({behavior:"smooth"}),history.pushState(null,"",s)})})});const a=document.querySelector(".animal-details-modal"),O=a==null?void 0:a.querySelector(".icon"),V=a==null?void 0:a.querySelector(".button"),l=a==null?void 0:a.querySelector(".placeholder-image"),m=document.getElementById("pet-name"),f=document.getElementById("pet-type"),y=document.getElementById("age"),g=document.getElementById("gender"),v=document.getElementById("desc"),h=document.getElementById("health"),b=document.getElementById("behaviour");let R=null;function z(){a==null||a.classList.remove("visually-hidden"),document.body.style.overflow="hidden"}function k(){a==null||a.classList.add("visually-hidden"),document.body.style.overflow="",l&&(l.src="",l.alt=""),m&&(m.textContent=""),f&&(f.textContent=""),y&&(y.textContent=""),g&&(g.textContent=""),v&&(v.textContent=""),h&&(h.textContent=""),b&&(b.textContent=""),R=null}function Le(e){const t=me(e);if(R=e,console.log(t),!t){console.error("Pet not found:",e);return}const n=new Image;n.onload=()=>{l&&(l.src=t.image||"",l.alt=t.name||""),m&&(m.textContent=t.name||""),f&&(f.textContent=t.species||""),y&&(y.textContent=t.age||""),g&&(g.textContent=t.gender||""),v&&(v.textContent=t.description||""),h&&(h.textContent=t.healthStatus||""),b&&(b.textContent=t.behavior||""),z()},n.onerror=()=>{console.error("Failed to load image:",t.image),l&&(l.src=t.image||"",l.alt=t.name||""),m&&(m.textContent=t.name||""),f&&(f.textContent=t.species||""),y&&(y.textContent=t.age||""),g&&(g.textContent=t.gender||""),v&&(v.textContent=t.description||""),h&&(h.textContent=t.healthStatus||""),b&&(b.textContent=t.behavior||""),z()},n.src=t.image||""}V==null||V.addEventListener("click",()=>{k();const e=new CustomEvent("open-order-modal",{detail:{petId:R}});window.dispatchEvent(e)});O==null||O.addEventListener("click",k);a==null||a.addEventListener("click",e=>{e.target===a&&k()});document.addEventListener("keydown",e=>{e.key==="Escape"&&!(a!=null&&a.classList.contains("visually-hidden"))&&k()});window.addEventListener("open-animal-modal",e=>{Le(e.detail.petId)});const r={overlay:document.querySelector(".order-modal-overlay"),modal:document.querySelector(".order-modal"),closeBtn:document.querySelector(".order-btn-close"),form:document.querySelector(".order-form"),nameInput:document.querySelector("#user-name"),phoneInput:document.querySelector("#user-tel"),commentInput:document.querySelector("#user-comment"),submitBtn:document.querySelector(".btn-send")};let x=null;window.addEventListener("open-order-modal",e=>{x=e.detail.petId,Ee()});function Ee(){r.overlay.classList.add("is-open"),document.body.style.overflow="hidden",r.submitBtn.disabled=!0,N(),document.addEventListener("keydown",J)}function B(){r.overlay.classList.remove("is-open"),document.body.style.overflow="",r.form.reset(),x=null,document.removeEventListener("keydown",J)}r.closeBtn.addEventListener("click",B);r.overlay.addEventListener("click",e=>{e.target===r.overlay&&B()});function J(e){e.key==="Escape"&&r.overlay.classList.contains("is-open")&&B()}r.form.addEventListener("submit",async e=>{e.preventDefault();const t=r.nameInput.value.trim(),n=r.phoneInput.value,s=r.commentInput.value.trim(),o=X(n);if(!Se(t,o,s))return;const i={name:t,phone:o,comment:s||void 0,animalId:x};try{await q.post("/orders",i),d.success({title:"Успішно",message:"Заявку відправлено",position:"topRight"}),B()}catch{d.error({title:"Помилка",message:"Не вдалося відправити заявку",position:"topRight"})}});function Se(e,t,n){let s=!0;return w(r.nameInput),w(r.phoneInput),w(r.commentInput),(!e||e.length>32)&&(D(r.nameInput,"Імʼя обовʼязкове (до 32 символів)"),s=!1),(!t||!/^[0-9]{12}$/.test(t))&&(D(r.phoneInput,"Введіть коректний номер телефону"),s=!1),n&&n.length>500&&(D(r.commentInput,"Коментар не може перевищувати 500 символів"),s=!1),x||(d.error({message:"Не обрано тварину",position:"topRight"}),s=!1),s}function D(e,t){var s;e.classList.add("is-error");const n=(s=e.closest(".order-container-area, .order-container-label"))==null?void 0:s.querySelector(".order-error-text");n&&(n.textContent=t,n.classList.add("is-visible"))}function w(e){var n;e.classList.remove("is-error");const t=(n=e.closest(".order-container-area, .order-container-label"))==null?void 0:n.querySelector(".order-error-text");t&&(t.classList.remove("is-visible"),t.textContent="")}r.nameInput.addEventListener("input",()=>{w(r.nameInput),N()});r.phoneInput.addEventListener("input",()=>{w(r.phoneInput),N()});r.commentInput.addEventListener("input",()=>{w(r.commentInput)});function X(e){let t=e.replace(/\D/g,"");return t.length===10&&t.startsWith("0")&&(t="38"+t),t.length===12&&t.startsWith("380"),t}function N(){const e=r.nameInput.value.trim(),t=X(r.phoneInput.value),n=r.commentInput.value.trim(),s=e&&e.length<=32,o=/^[0-9]{12}$/.test(t),i=n.length<=500;r.submitBtn.disabled=!(s&&o&&i)}
//# sourceMappingURL=index.js.map
